<div id="landing_page">
	<div id="fluid" class="container-fluid photo_background">
		<div id="landing_background">
			<!--<video id="video_background" preload="auto" autoplay="autoplay" loop="loop" style="position: fixed; top: 0px; left: 0px; bottom: 0px; right: 0px; z-index: -100;"><source src="preview.mp4" type="video/mp4"></source>bgvideo</video>--> 				
		</div>
		<div id="landing_header">
			<div class="row">
	  			<div id="landing_name" class="text-center"></div>			
			</div>
		</div>
		<div id="landing_message">
			<div class="row">
				<div id="message" class="text-center">
					<div id="message_header">Marketing message</div>
					<div class="col-md-6 col-md-offset-3" id="message_remainder">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
					</div>
				</div>
			</div>
		</div>
		<div id="landing_form">
			<div class="row">
				<form class="form-inline col-md-8 col-md-offset-2 col-xs-offset-1">
					<div class="form-group col-md-3 col-xs-10">
						<input data-autonumeric="true" name="buy_amount" class="form-control" placeholder="How much do you need">
				  	</div>
				  	<div class="form-group col-md-3 col-xs-10">
						<input type="text" name="buy_currency" class="form-control" placeholder="In what currency">
				  	</div>
				  	<div id="the-basics" class="form-group col-md-3 col-xs-10">
						<input type="text" name="pay_currency" class="form-control" placeholder="Paying with">
				  	</div>
				  	<div class="hidden" style="display:none">
				  		<input type="hidden" name="latitude" value="51.507351">
				  		<input type="hidden" name="longitude" value="-0.127758">
				  		<input type="hidden" name="bbox" value="default">
			  		</div>
				  	<div class="form-group col-md-3 col-xs-10">
						<button type="submit" class="form-control btn btn-success">Get it</button>
					</div>
				</form>
			</div>
		</div>
		
		<div id="landing_footer">
		</div>
	</div>
</div>
<script>
$(document).ready(function() {
	
$( "form" ).on( "submit", function( event ) {
  event.preventDefault();
  window.location.href = "/exchanges?" + $( this ).serialize();
});

$('.typeahead.input-sm').siblings('input.tt-hint').addClass('hint-small');
$('.typeahead.input-lg').siblings('input.tt-hint').addClass('hint-large');	

var substringMatcher = function(strs) {
  return function findMatches(q, cb) {
    var matches, substrRegex;
 
    // an array that will be populated with substring matches
    matches = [];
 
    // regex used to determine if a string contains the substring `q`
    substrRegex = new RegExp(q, 'i');
 
    // iterate through the pool of strings and for any string that
    // contains the substring `q`, add it to the `matches` array
    $.each(strs, function(i, str) {
      if (substrRegex.test(str)) {
        // the typeahead jQuery plugin expects suggestions to a
        // JavaScript object, refer to typeahead docs for more info
        matches.push({ value: str });
      }
    });
 
    cb(matches);
  };
};
 
var currencies = ['GBP', 'USD', 'EUR', 'AUD', 'CAD', 'JPY'];
 
$('#the-basics .typeahead').typeahead({
  hint: true,
  highlight: true,
  minLength: 1
},
{
  name: 'currencies',
  displayKey: 'value',
  source: substringMatcher(currencies)
});

})
</script>
